<cds-table-container>
  <cds-table-header>
    <h4 cdsTableHeaderTitle>Filter Orders</h4>
    <p cdsTableHeaderDescription>
      Use the toolbar's search functionality to filter order names
      or click the filter icon to filter country names
    </p>
  </cds-table-header>
  <cds-table-toolbar>
    <cds-table-toolbar-content>
      <cds-table-toolbar-search
        [expandable]="true"
        (valueChange)="filterOrderNames($event)"
        (clear)="resetData($event)">
      </cds-table-toolbar-search>
      <button
        cdsButton="ghost"
        class="toolbar-action"
        [cdsOverflowMenu]="templateRef"
        placement="bottom"
        [flip]="true"
        [offset]="{ x: 3, y: 0 }">
        <svg cdsIcon="filter" size="16" class="cds--toolbar-action__icon"></svg>
      </button>
      <button cdsButton="primary" size="sm">
        New order<svg cdsIcon="add" size="20" class="cds--btn__icon"></svg>
      </button>
    </cds-table-toolbar-content>
  </cds-table-toolbar>
  <cds-table
    [model]="model"
    [sortable]="false"
    [size]="size"
    [skeleton]="skeleton"
    [showSelectionColumn]="showSelectionColumn"
    [enableSingleSelect]="enableSingleSelect"
    [stickyHeader]="stickyHeader"
    [striped]="striped"
    [isDataGrid]="isDataGrid">
    <ng-content></ng-content>
  </cds-table>


  <div  *ngIf="!hasResults" class="no-data bx--data-table--empty">
    <svg cdsIcon="search" size="32"></svg>
    <h4>No results found</h4>
  </div>
</cds-table-container>

<ng-template #templateRef>
  <div style="padding: 0 1rem;" (click)="overflowOnClick($event)">
    <div style="padding-top: 0.5rem; color: grey;">Countries shown</div>
    <cds-checkbox
      [checked]="displayedCountries.includes('US')"
      (checkedChange)="filterCountries('US', $event)">
      US
    </cds-checkbox>
    <cds-checkbox
      [checked]="displayedCountries.includes('France')"
      (checkedChange)="filterCountries('France', $event)">
      France
    </cds-checkbox>
    <cds-checkbox
      [checked]="displayedCountries.includes('Argentina')"
      (checkedChange)="filterCountries('Argentina', $event)">
      Argentina
    </cds-checkbox>
    <cds-checkbox
      [checked]="displayedCountries.includes('Japan')"
      (checkedChange)="filterCountries('Japan', $event)">
      Japan
    </cds-checkbox>
  </div>
</ng-template>
